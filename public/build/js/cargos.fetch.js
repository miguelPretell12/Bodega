async function create(a){const t=await fetch(" /dashboard/cargos/create",{method:"POST",body:a}),e=await t.json(),{res:o,bool:n}=e;n?(Swal.fire({icon:"success",title:"Exito",text:o}),$("#modalUsuario").modal("hide")):Swal.fire({icon:"error",title:"Error",text:o})}function formulario(){$("#formulario").on("submit",(function(a){a.preventDefault();const t=document.querySelector("#nombre").value,e=document.querySelector("#id").value,o=new FormData;o.append("nombre",t.toLowerCase()),""==e?create(o):(o.append("id",e),update(o)),tableAll(),clean()}))}function tableAll(){$("#table_id").DataTable({destroy:!0,ajax:{method:"GET",url:"/dashboard/cargos/lists"},columns:[{data:"nombre"},{data:null,render:function(a,t,e){return`\n            <button class="btn btn-warning far fa-edit" data-idcargo="${a.id}" id="edit" data-bs-toggle="modal" data-bs-target="#modalCargo" ></button>\n          <button class="btn btn-danger far fa-trash-alt" data-idcargo="${a.id}" id="delete"></button>\n          `}}]})}function obtenerData(){$(document).on("click","#edit",(function(a){const t=a.target.dataset.idcargo,e=new FormData;e.append("id",t),getCargo(e)}))}function deleteCargo(){$(document).on("click","#delete",(function(a){const t=a.target.dataset.idcargo,e=new FormData;e.append("id",t),Swal.fire({title:"Â¿ Usted quiere eliminar este cargo ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, deseo eliminar el cargo"}).then(a=>{a.isConfirmed&&(remove(e),tableAll())})}))}function clean(){$("#id").val(""),$("#nombre").val("")}async function getCargo(a){const t=await fetch(" /dashboard/cargos/getCargo",{method:"POST",body:a}),e=await t.json(),{id:o,nombre:n}=e.data;$("#id").val(o),$("#nombre").val(n)}async function update(a){const t=await fetch(" /dashboard/cargos/update",{method:"POST",body:a});(await t.json()).res&&$("#modalUsuario").modal("hide")}async function remove(a){const t=await fetch(" 0/dashboard/cargos/delete",{method:"POST",body:a}),e=await t.json(),{res:o}=e;o?Swal.fire("Eliminado!","El cargo ha sido eliminado correctamente","success"):Swal.fire("Error!","El cargo no ha sido eliminado correctamente o este cargo ha sido registrado en otro registro","error")}$(document).ready((function(){formulario(),tableAll(),obtenerData(),deleteCargo()})),$(document).on("click","#btn",(function(){clean()}));